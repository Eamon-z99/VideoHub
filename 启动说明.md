# 启动说明

## 开发环境启动步骤

### 前端启动

#### 方式一：手动启动（推荐用于开发调试）

##### 1. 启动子应用
打开第一个终端窗口：
```bash
cd frontend/VideoHub_web
npm install  # 如果还没安装依赖
npm run dev
```
子应用将在 `http://localhost:5173` 启动

##### 2. 启动主应用
打开第二个终端窗口：
```bash
cd frontend/main-app
npm install  # 如果还没安装依赖
npm run dev
```
主应用将在 `http://localhost:8080` 启动

##### 3. 访问应用
在浏览器中访问：`http://localhost:8080/videohub`

### 后端启动

打开终端窗口：
```bash
cd backend/VideoBackend
# 使用 Maven 启动
mvn spring-boot:run

# 或使用 Maven Wrapper
./mvnw spring-boot:run  # Linux/Mac
.\mvnw.cmd spring-boot:run  # Windows
```

后端服务将在 `http://localhost:8080` 启动

**注意**：如果后端端口与前端主应用冲突，需要修改后端配置文件中的端口。

## 生产环境部署

### 前端部署

#### 1. 构建子应用
```bash
cd frontend/VideoHub_web
npm run build
```
构建产物在 `frontend/VideoHub_web/dist` 目录

#### 2. 构建主应用
```bash
cd frontend/main-app
npm run build
```
构建产物在 `frontend/main-app/dist` 目录

#### 3. 部署
- 将子应用部署到服务器（如 Nginx）
- 将主应用部署到服务器
- 更新主应用中子应用的 `entry` 地址为生产环境地址

### 后端部署

```bash
cd backend/VideoBackend
mvn clean package
```
构建产物在 `backend/VideoBackend/target` 目录

然后运行：
```bash
java -jar target/VideoBackend-*.jar
```

## 注意事项

1. **端口冲突**: 确保 5173 和 8080 端口未被占用
2. **CORS**: 开发环境已配置 CORS，生产环境需要确保服务器也支持
3. **路由**: 访问子应用时，URL 路径需要包含 `/videohub` 前缀

